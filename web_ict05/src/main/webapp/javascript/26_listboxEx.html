<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>동적으로 변하는 리스트 만들기</title>
<style>
	fieldset{
		max-width:300px;
	}

</style>
<script type="text/javascript">
	
	function select_city(){
		//alert("도시 선택");
		// 서울일때의 구 정보
		let seoul_gu = new Array("강남구", "강북구", "관악구", "구로구","강서구", "노원구", "동대문구", "마포구", "서대문구","은평구", "영등포구");
		let incheon_gu = new Array("남동구", "서구", "계양구","중구","부평구","연수구","미추홀구","동구","부평구");
		
		let cities = document.myForm.city;	// select 태그까지 접근
		let gus = document.myForm.gu;		// select 태그까지 접근
		
		
		if(cities.value == "서울"){
			// 옵션을 추가함 : new Option("text", "value");
			gus.options[0] = new Option("구를 선택하세요", "");
			
			// seoul_gu 배열의 길이만큼 for문을 돌면서 new Option("text", "value");로 만들어라
			for(let i=1; i<seoul_gu.length; i++){
				gus.options[i] = new Option(seoul_gu[i-1],seoul_gu[i-1]);
			}
		}
		 else if(cities.value =="인천"){
			// 서울의 구와 인천의 구의 갯수가 다르므로 options 삭제
			for(let i=0; i<gus.options.length; i++){
				gus.options[i].remove();
			}
			
			// 쌤이 한 초기화 방식
			// gus.options.length = 0;
			
			gus.options[0] = new Option("구를 선택하세요.", "");
			// 인천의 구 옵션 추가
			for(let i=1; i<incheon_gu.length; i++){
				gus.options[i] = new Option(incheon_gu[i-1], incheon_gu[i-1]);
			}
		}
		
	}
	
	function select_gu(){
		//alert("구 선택");
		let cities = document.myForm.city.value;
		let gus = document.myForm.gu.value;
		
		
		// 결과가 있으면 cities와 gus를 alert창에 출력하고, 없으면 "구를 선택하세요" 를 출력.
		if(cities){
			if(gus){
				alert("선택한 도시는 "+cities+"시, "+gus+"입니다.");
			}
			else{
				alert("구를 선택해주세요");
			}
		}
		else{
			alert("도시를 선택해주세요");
		}
	}
	
</script>
</head>
<body>
	
	<h3> 동적으로 변하는 리스트 만들기 </h3>
	<form name="myForm">
		<fieldset>
			<legend>select 객체 예제</legend>
			<select name="city" onchange="select_city()">
				<option value="">도시명을 선택하세요.</option>	
				<option value="서울">서울</option>
				<option value="인천">인천</option>
			</select>
			
			<select name="gu" onchange="select_gu()">
				<option value="">구를 선택하세요.</option>
				<!-- <option value="강남구">강남구</option> -->
			</select>
		</fieldset>
	</form>
	
</body>
</html>